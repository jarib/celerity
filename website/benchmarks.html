<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
    <head>
        <title>Celerity | Easy and fast functional test automation for web applications</title>
        <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
        <link rel="stylesheet" type="text/css" media="screen" href="css/screen.css" />
    </head>
    <body>
    	<div id="container">
            <div id="header">
                <h1><a href=".">Celerity</a></h1>
                <div id="tagline">
                    { French célérité > Latin celeritas > Latin celer, fast, swift. <br />
                    Rapidity of motion; quickness; swiftness. }
                </div>
                <div id="leftSlice"></div>
                <div id="rightSlice"></div>
            </div>
            <div id="nav">
                <ul>
                    <li><a accesskey="h" title="Front page" href="." hreflang="en">Home</a></li>
                    <li><a accesskey="p" title="Celerity at Rubyforge" href="http://rubyforge.org/projects/celerity/" hreflang="en">Rubyforge project</a></li>
                    <li><a accesskey="d" title="Download Celerity" href="http://rubyforge.org/frs/?group_id=6198" hreflang="en">Download</a></li>
                    <li><a accesskey="o" title="Documentation" href="http://celerity.rubyforge.org/doc/" hreflang="en">Documentation</a></li>
                    <li><a accesskey="f" title="Discuss Celerity" href="http://rubyforge.org/forum/?group_id=6198" hreflang="en">Forum</a></li>
                    <li><a accesskey="m" title="Stay up-to-date" href="http://rubyforge.org/mail/?group_id=6198" hreflang="en">Mailing lists</a></li>
                    <li><a accesskey="s" title="Infinite monkey theorem" href="http://celerity.rubyforge.org/svn/" hreflang="en">Browse source</a></li>
                    <li><a accesskey="b" title="Report and browse bugs" href="http://rubyforge.org/tracker/?atid=24033&amp;group_id=6198&amp;func=browse" hreflang="en">Bug tracker</a></li>
                    <li><a accesskey="e" title="Request and browse new features" href="http://rubyforge.org/tracker/?atid=24036&amp;group_id=6198&amp;func=browse" hreflang="en">Feature tracker</a></li>
                    <li><a accesskey="n" title="Benchmarks" href="benchmarks.html" hreflang="en">Benchmarks</a></li>
                    <li><a accesskey="w" title="Wiki/FAQ" href="http://celerity.rubyforge.org/wiki/wiki.pl" hreflang="en">Wiki/FAQ</a></li>
                    <li><a accesskey="t" title="Tutorial" href="http://celerity.rubyforge.org/wiki/wiki.pl?GettingStarted" hreflang="en">Tutorial</a></li>
                </ul>
            </div>
            <div id="content">
                <h2>Benchmarks</h2>
                <p>We've played a little with some early crude benchmarking. <del datetime="20080515">Three</del> <ins datetime="20080515">Four</ins> scenarios were benchmarked in Celerity and Watir.</p>
                <ul>
                    <li><a href="http://celerity.rubyforge.org/svn/trunk/benchmark/bm_2000_spans.rb">Scenario 1: 2000 span elements (local file)</a></li>
                    <li><a href="http://celerity.rubyforge.org/svn/trunk/benchmark/bm_google_images.rb">Scenario 2: Looping a Google image search result</a></li>
                    <li><a href="http://celerity.rubyforge.org/svn/trunk/benchmark/bm_digg.rb">Scenario 3: Counting the number of "diggs" on digg.com's front page</a></li>
                    <li><a href="http://celerity.rubyforge.org/svn/trunk/benchmark/bm_input_locator.rb">Scenario 4: Locating different HTML input elements (local file)</a></li>
                </ul>

                <h2>Results: Overview</h2>
                <p>This table provides a quick overview. For more accurate numbers, see below.</p>
                <table>
                    <tr>
                        <th>Scenario</th>
                        <th>Watir (total)</th>
                        <th>Celerity (total)</th>
                        <th>Time reduction</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>316,97 s</td>
                        <td>0,59 s</td>
                        <td>99,81 %</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>278 s</td>
                        <td>86 s</td>
                        <td>69 %</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>128 s</td>
                        <td>33 s</td>
                        <td>74 %</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>185,00 s</td>
                        <td>4,67 s</td>
                        <td>97,48 %</td>
                    </tr>
                </table>
                <h2>Notes</h2>
                <ul>
                    <li>Celerity 0.0.2 on JRuby 1.1 and Watir 1.5.4 on Ruby 1.8.6 was used.</li>
                    <li>Neither Watir nor Celerity downloaded any images in these scenarios. Watir (IE) had them cached, and disabling images in IE did not seem to affect the benchmarks (compared to when they are cached).</li>
                </ul>
                <h2>Results: Actual output from benchmark scripts</h2>
                <p></p>
<h3>Watir on Ruby: Scenario 1</h3>
<pre>
n = 100
                                     user     system      total        real
Loop through all spans (n = 1)  62.469000  16.312000  78.781000 (198.016000)
Last span by id (String)        15.968000   4.953000  20.921000 ( 59.500000)
Last span by id (Regexp)        17.140000   5.015000  22.155000 ( 59.454000)

total  : 316.97000002861
average: 105.656666676203

</pre>

<h3>Celerity on JRuby: Scenario 1</h3>
<pre>
n = 100
                                     user     system      total        real
Loop through all spans (n = 1)   0.438000   0.000000   0.438000 (  0.446355)
Last span by id (String)         0.016000   0.000000   0.016000 (  0.013113)
Last span by id (Regexp)         0.141000   0.000000   0.141000 (  0.132035)

total  : 0.5915031433105469
average: 0.19716771443684897

</pre>

<h3>Watir on Ruby: Scenario 2</h3>
<pre>
n = 5
                                  user     system      total        real
Google image search results  44.234000  11.047000  55.281000 (277.734000)

total  : 277.733999967575
average: 277.733999967575

</pre>

<h3>Celerity on JRuby: Scenario 2</h3>
<pre>
n = 5
                                  user     system      total        real
Google image search results  86.016000   0.000000  86.016000 ( 86.005572)

total  : 86.00557208061218
average: 86.00557208061218

</pre>

<h3>Watir on Ruby: Scenario 3</h3>
<pre>
n = 5
                          user     system      total        real
Diggs on front page   7.344000   2.000000   9.344000 (127.907000)

total  : 127.90700006485
average: 127.90700006485

</pre>

<h3>Celerity on JRuby: Scenario 3</h3>
<pre>
n = 5
                          user     system      total        real
Diggs on front page  33.422000   0.000000  33.422000 ( 33.427076)

total  : 33.4270761013031
average: 33.4270761013031

</pre>

<h3>Watir on Ruby: Scenario 4</h3>
<pre>
n = 1000
                                                   user     system      total        real
text input by id (String)                      1.093000   0.281000   1.374000 (  2.765000)
text input by id (Regexp)                      1.063000   0.250000   1.313000 (  2.766000)
text input by name (String)                    1.625000   0.281000   1.906000 (  4.282000)
text input by name (Regexp)                    1.594000   0.281000   1.875000 (  4.266000)
select list by id (String)                     1.813000   0.328000   2.141000 (  4.704000)
select list by id (Regexp)                     1.766000   0.235000   2.001000 (  4.672000)
select list by name (String)                   1.671000   0.312000   1.983000 (  4.656000)
select list by name (Regexp)                   1.797000   0.313000   2.110000 (  4.671000)
checkbox by id (String)                        5.844000   1.203000   7.047000 ( 14.047000)
checkbox by id (Regexp)                        5.515000   1.203000   6.718000 ( 13.937000)
checkbox by name (String)                      5.578000   1.063000   6.641000 ( 14.031000)
checkbox by name (Regexp)                      5.328000   1.062000   6.390000 ( 14.359000)
checkbox by id (String) and value (String)     9.406000   2.188000  11.594000 ( 28.578000)
checkbox by id (Regexp) and value (Regexp)     9.718000   2.078000  11.796000 ( 25.437000)
checkbox by name (String) and value (String)   6.390000   1.203000   7.593000 ( 16.453000)
checkbox by name (Regexp) and value (Regexp)   9.578000   1.719000  11.297000 ( 25.375000)

total  : 184.998999834061
average: 11.5624374896288

</pre>

<h3>Celerity on JRuby: Scenario 4</h3>
<pre>
n = 1000
                                                   user     system      total        real
text input by id (String)                      0.063000   0.000000   0.063000 (  0.053699)
text input by id (Regexp)                      0.360000   0.000000   0.360000 (  0.357198)
text input by name (String)                    0.313000   0.000000   0.313000 (  0.322434)
text input by name (Regexp)                    0.297000   0.000000   0.297000 (  0.298454)
select list by id (String)                     0.031000   0.000000   0.031000 (  0.028299)
select list by id (Regexp)                     0.297000   0.000000   0.297000 (  0.303616)
select list by name (String)                   0.219000   0.000000   0.219000 (  0.228946)
select list by name (Regexp)                   0.250000   0.000000   0.250000 (  0.242370)
checkbox by id (String)                        0.031000   0.000000   0.031000 (  0.032020)
checkbox by id (Regexp)                        0.360000   0.000000   0.360000 (  0.348517)
checkbox by name (String)                      0.469000   0.000000   0.469000 (  0.469942)
checkbox by name (Regexp)                      0.485000   0.000000   0.485000 (  0.495507)
checkbox by id (String) and value (String)     0.015000   0.000000   0.015000 (  0.029422)
checkbox by id (Regexp) and value (Regexp)     0.312000   0.000000   0.312000 (  0.322679)
checkbox by name (String) and value (String)   0.547000   0.000000   0.547000 (  0.536925)
checkbox by name (Regexp) and value (Regexp)   0.609000   0.000000   0.609000 (  0.600956)

total  : 4.670983791351318
average: 0.2919364869594574

</pre>
            </div>
        </div>
        <div id="footer">
            <p>
                <span class="w3cbutton">
                    <a href="http://validator.w3.org/check?uri=referer" title="Valid XHTML 1.0 Strict" hreflang="en">
                            <span class="w3c">W3C</span>
                            <span class="spec">XHTML 1.0</span>
                    </a>
                </span>
                &nbsp;
                <span class="w3cbutton">
                    <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS" hreflang="en">
                            <span class="w3c">W3C</span>
                            <span class="spec">CSS</span>
                    </a>
                </span>
                <!--&nbsp;
                <span class="w3cbutton">
                    <a href="http://www.w3.org/WAI/WCAG1AAA-Conformance" title="Conforming with the highest level (AAA) of the Web Content Accessibility Guidelines 1.0" hreflang="en">
                            <span class="w3c">W3C</span>
                            <span class="spec">WAI&#8209;<span class="red">AAA</span>&nbsp;WCAG&nbsp;1.0</span>
                    </a>
                </span>-->
            </p>
            <address>
                <a href="mailto:tinius.alexander@lystadonline.no">T. Alexander Lystad</a>, 29th May 2008
            </address>
        </div>
    </body>
</html>